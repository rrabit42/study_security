# 웹 해킹 개요  
웹 해킹은 해킹의 의미처럼 본래의 의도와는 다른 동작을 일으키도록 하거나, 주어진 권한 이상으로 정보를 열람, 복제, 변경 가능한 행위가 웹에서 발생하는 것.  

기업의 업무, 금융, 쇼핑 등 다양한 분야가 웹으로 서비스되면서 제공하는 서비스의 복잡도와 다양성이 증가.  
그로 인해 서버와 어플리케이션에서 처리하는 사용자의 입력 역시 다양해졌고 기능을 구현하면서 높아진 복잡도로 인해  
개발 당시에는 의도치 않았던 동작을 일으킬 수 있는 웹 해킹의 위협도 증가.  

많은 기업들이 자산을 보호하기 위해 많은 서비스와 네트워크 망을 내부망에서 사용하지만, 기업의 대표 사이트 또는 제품(서비스) 등과 같이 웹을 통해 서비스를 운영하는 경우가 많음.  
이런 웹 서비스들은 내부망과 연결되어 있을 가능성이 높아 공격자들이 내부망 침투를 위해 가장 먼저 웹을 공격하기도 함.  

## 웹 해킹 공격 벡터  
<img width="470" alt="4" src="https://user-images.githubusercontent.com/46364778/93002223-6f429c00-f570-11ea-903e-541668ed6325.PNG">  

드림핵 웹사이트 접속 시 발생하는 과정 간략히 표현  
* Client-side : 사용자의 입력을 받고 웹사이트와 통신  
* Server-side : 사용자의 요청 처리  

웹 해킹을 할 때에도 Client-side, Server-side로 공격 대상을 나누어볼 수 있다.  
공격 대상에 따라 공격하는 방식, 형태가 달라지며 공격을 통해 가능한 행위가 달라짐.  

### Client-side Attack  
서비스 사용자에 대한 공격  

웹을 이용하는 사용자는 웹브라우저를 통해 서비스 제공 받는데  
**웹 서버가 제공해주는 데이터**가 공격자에 의해 변조되었을 경우  
**웹 브라우저에서 렌더되는 과정**에서 취약점이 발생하는 경우가 대표적인 공격 형태  
> ex) 게시판 서비스 - 사용자의 입력을 특별한 검증 없이 출력하게 되면 사용자의 입력도 html처럼 취급되고 스크립트도 삽입 가능  
이를 악용하여 공격자는 다른 사용자의 웹 브라우저에 원하는 행위 수행 가능  

### Server-side Attack  
서비스를 운용하는 서버에 대한 공격  

다양한 공격 형태 존재, 공격자가 공격에 성공하게 되면 서버의 어플리케이션 코드 또는 다른 사용자의 정보 유출, 서버 탈취 등의 공격으로 발전될 수 있다.  
운영되는 서비스의 구조와 특징에 따라 위협의 형태가 달라짐.  
> 서비스의 형태에 따라 가지게 되는 특별한 공격 방법이 존재.  
ex) 송금 기능을 지원하는 서비스에서 자신이 가진 금액보다 더 큰 금액으로 요청하게 될 때 특별한 검증 절차 없이 정상적으로 진행된다며, 공격자는 금전적 이득 취득 가능  


#### 세션 하이재킹(Session Hijacking)  
쿠키에는 세션 정보가 저장되어 있고 서버는 이를 통해 이용자를 식별하고 인증을 처리함.  
공격자가 이용자의 쿠키를 훔칠 수 있으면 세션에 해당하는 이용자의 인증 상태를 훔칠 수 있는데, 이를 세션 하이재킹이라고 한다.  

드림핵 로그인 기능을 통해 세션을 알아보자.  
> 1. 드림핵 로그인 페이지에서 우클릭 후 검사를 클릭하고 Network 탭을 누릅니다.  
> Preserve log를 체크하고 로그인을 하면 로그인 성공 시 응답을 볼 수 있습니다.  
> 응답을 살펴보면, 서버에서 set-cookie 헤더를 통해 브라우저의 쿠키에 세션 정보를 저장하는 것을 볼 수 있습니다.  
> 2. 크롬 검사에서 Application을 누르고 Cookies 목록 안의 https://dreamhack.io 를 누르면 서버의 set-cookie 헤더를 통해 설정된 쿠키를 확인할 수 있습니다.  
> 3. sessionid 헤더의 값을 메모장에 복사합니다.  
> 이후 사진과 같이 sessionid 헤더의 값을 우클릭한 후 Delete를 클릭하면 브라우저의 쿠키에 저장된 세션 값이 삭제됩니다.  
> 세션 값을 삭제하고 드림핵 페이지를 새로고침하면 로그인이 풀려있는 것을 확인할 수 있습니다.
> 4. 쿠키의 빈 칸을 더블 클릭해 sessionid 헤더를 추가하고, 이전에 복사한 세션 값을 입력하면 브라우저의 쿠키에 세션 값이 설정됩니다.  
> 세션 값을 설정하고 드림핵 페이지를 새로고침하면 로그인이 되는 것을 확인할 수 있습니다.  
